<head>
    <title>
        TODO App
    </title>
</head>
<script>
    function todosCallback(data){
        console.log(data);
    }
    function callback2(resp){
        resp.json().then(todosCallback);
    }
    function getData(){
        fetch("http://localhost:3000/todos",{
            method:"GET ",
        }).then(callback2)
    }
    getData();

    function parsedResponse(data){
        console.log(data);
    }
    function callback(resp){
        resp.json.then(parsedResponse);
    }
    function onPress(){
        var title =document.getElementById("title").value;
        var description = document.getElementById("description").value;
        console.log(title);
        fetch("http://localhost:3000/todos",{
            method:"POST",
            body: JSON.stringify({
                title: title,
                description: description
            }),
            headers: {
                "Content-Type": "application/json"
            }
        }).then(callback)
    }
</script>
<body>
    TODO Title
    <input type="text" id="title">
    <br><br>
    TODO description
    <input type="text" id="description" name="task" placeholder="Enter task here">
    <button onclick="onPress()">send todo</button>
    
</body>